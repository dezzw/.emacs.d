{ lib
, fetchFromGitHub 
, trivialBuild
, writeText
}:
let
  rev = "68799e29a1e994cbb360398ff741037e1bf3907b";
in
trivialBuild {
  pname = "dape";
  version = "20231025.1936";

  src = fetchFromGitHub {
    owner = "svaante";
    repo = "dape";
    inherit rev;
    hash = "sha256-YmGa4PiqsAlC4OUUQ720Mdr7kPfM+07S46kofeJ9M4o=";
  };

  commit = rev;
  
  recipe = writeText "recipe" ''
    (dape
      :repo "svaante/dape"
      :fetcher github
      :files ("dape.el"))
  '';

  meta = with lib; {
    description = "Dape is an debug adapter client for Emacs.";
    homepage = "https://github.com/svaante/dape";
    license = licenses.gpl3Only;
  };
}
