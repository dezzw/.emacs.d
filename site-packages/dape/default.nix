{ lib
, fetchFromGitHub 
, trivialBuild
, writeText
}:
let
  rev = "a9f68bf701bede7a1e96e9f38b1ed42ba1eeb994";
in
trivialBuild {
  pname = "dape";
  version = "20231025.1936";

  src = fetchFromGitHub {
    owner = "svaante";
    repo = "dape";
    inherit rev;
    hash = "sha256-arU7cGvsEdd0VPw5DD/q22rWXVz6Fr574x40orv1A4M=";
  };

  commit = rev;
  
  recipe = writeText "recipe" ''
    (dape
      :repo "svaante/dape"
      :fetcher github
      :files ("dape.el"))
  '';

  meta = with lib; {
    description = "Dape is an debug adapter client for Emacs.";
    homepage = "https://github.com/svaante/dape";
    license = licenses.gpl3Only;
  };
}
