{ lib
, fetchFromGitHub 
, trivialBuild
, writeText
}:
let
  rev = "fad3c663e7fe2fd43042aa5a94165f731eab6bf4";
in
trivialBuild {
  pname = "dape";
  version = "20231025.1936";

  src = fetchFromGitHub {
    owner = "svaante";
    repo = "dape";
    inherit rev;
    hash = "sha256-KncvHsw0r9cwP9lrHYhiUGGT8XYIhOfca2MiKpNWWxQ=";
  };

  commit = rev;
  
  recipe = writeText "recipe" ''
    (dape
      :repo "svaante/dape"
      :fetcher github
      :files ("dape.el"))
  '';

  meta = with lib; {
    description = "Dape is an debug adapter client for Emacs.";
    homepage = "https://github.com/svaante/dape";
    license = licenses.gpl3Only;
  };
}
