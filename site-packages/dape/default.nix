{ lib
, fetchFromGitHub 
, trivialBuild
, writeText
}:
let
  rev = "73150fca5559ad99722010ae6a1d045486a0686c";
in
trivialBuild {
  pname = "dape";
  version = "20231022.1509";

  src = fetchFromGitHub {
    owner = "svaante";
    repo = "dape";
    inherit rev;
    hash = "sha256-I0mo3e843I6z0R6RHb6wA+rlpUkY0XVEpoTAvT8/HSw=";
  };

  commit = rev;
  
  recipe = writeText "recipe" ''
    (dape
      :repo "svaante/dape"
      :fetcher github
      :files ("dape.el"))
  '';

  meta = with lib; {
    description = "Dape is an debug adapter client for Emacs.";
    homepage = "https://github.com/svaante/dape";
    license = licenses.gpl3Only;
  };
}
