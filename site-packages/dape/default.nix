{ lib
, fetchFromGitHub 
, trivialBuild
, writeText
}:
let
  rev = "2a478560e9b0986ebd6b954ec01c3da90ec9e7a8";
in
trivialBuild {
  pname = "dape";
  version = "20231020.0936";

  src = fetchFromGitHub {
    owner = "svaante";
    repo = "dape";
    inherit rev;
    hash = "sha256-u6XCzqi+RoFfGdOZwrDw+/7xkWcA/bMqN8Ye93MJeuo=";
  };

  commit = rev;
  
  recipe = writeText "recipe" ''
    (dape
      :repo "svaante/dape"
      :fetcher github
      :files ("dape.el"))
  '';

  meta = with lib; {
    description = "Dape is an debug adapter client for Emacs.";
    homepage = "https://github.com/svaante/dape";
    license = licenses.gpl3Only;
  };
}
